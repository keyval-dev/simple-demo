(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(72)}])},72:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var s=n(5893),c=n(183),a=n.n(c),l=n(7294),i=e=>{let{product:t}=e,[n,c]=l.useState(!1);return(0,s.jsxs)("div",{className:"bg-white border p-4 m-4 rounded shadow-md text-center flex items-center flex-col",children:[(0,s.jsx)("img",{src:t.image,alt:t.name,className:"h-15 w-15"}),(0,s.jsx)("h3",{className:"text-lg font-semibold my-2",children:t.name}),(0,s.jsxs)("p",{className:"text-gray-600",children:["$",t.price]}),(0,s.jsx)("button",{className:"".concat(n?"bg-green-500":"bg-blue-500"," hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded mt-2"),onClick:()=>{fetch("/buy?id=".concat(t.id),{method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>{c(!0),setTimeout(()=>{c(!1)},500)}).catch(e=>console.log(e))},children:"Buy"})]})},r=()=>(0,s.jsx)("div",{className:"bg-blue-300 min-w-screen h-50 flex justify-between items-center py-4",children:(0,s.jsx)("h1",{className:"px-5 text-2xl font-semibold text-gray-800",children:"Keyval Shop"})});function o(){let[e,t]=(0,l.useState)([]),[n,c]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{fetch("/products").then(e=>e.json()).then(e=>{t(e),c(!1)})},[]),n)?(0,s.jsx)("p",{children:"Loading..."}):e?(0,s.jsxs)("main",{className:" ".concat(a().className),children:[(0,s.jsx)(r,{}),(0,s.jsx)("div",{className:"bg-gray-100 h-full grid grid-cols-6",children:e.map(e=>(0,s.jsx)(i,{product:e},e.id))})]}):(0,s.jsx)("p",{children:"No products data"})}},183:function(e){e.exports={style:{fontFamily:"'__Inter_e66fe9', '__Inter_Fallback_e66fe9'",fontStyle:"normal"},className:"__className_e66fe9"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);